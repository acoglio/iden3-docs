

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Centralized Login &mdash; iden3 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/iden3-icon-small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Centralized Login</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#platforms-supported">Platforms supported</a></li>
<li><a class="reference internal" href="#pre-requirements">Pre-requirements</a></li>
<li><a class="reference internal" href="#integration">Integration</a><ul>
<li><a class="reference internal" href="#front-end">Front-End</a></li>
<li><a class="reference internal" href="#back-end">Back-End</a><ul>
<li><a class="reference internal" href="#generating-requests-of-identity-assertion">Generating requests of identity assertion</a></li>
<li><a class="reference internal" href="#verifying-signedpacket">Verifying signedPacket</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sdk-installation">SDK installation</a><ul>
<li><a class="reference internal" href="#iden3js">iden3js</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">iden3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Centralized Login</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developers/centralized_login.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="centralized-login">
<h1><a class="toc-backref" href="#id1">Centralized Login</a><a class="headerlink" href="#centralized-login" title="Permalink to this headline">¶</a></h1>
<div class="topic">
<p class="topic-title first">Overview</p>
<p>This document will guide you through the steps required to integrate Iden3’s technology into yor application’s login.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2019-04-05</td>
</tr>
</tbody>
</table>
</div>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#centralized-login" id="id1">Centralized Login</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#platforms-supported" id="id3">Platforms supported</a></li>
<li><a class="reference internal" href="#pre-requirements" id="id4">Pre-requirements</a></li>
<li><a class="reference internal" href="#integration" id="id5">Integration</a><ul>
<li><a class="reference internal" href="#front-end" id="id6">Front-End</a></li>
<li><a class="reference internal" href="#back-end" id="id7">Back-End</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sdk-installation" id="id8">SDK installation</a><ul>
<li><a class="reference internal" href="#iden3js" id="id9">iden3js</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Iden3 is a complete decentralized identity management solution that allows users to leverage their pre-existing validated identities to
proof they are who they claim to be and saving them the hassle of having to individually register with each service that requires a validated
identification.
One of the direct applications of iden3 technology is to allow web services to reuse these identities for login into their portals.</p>
<p>The diagram below shows the steps taken by your back-end to enable access to your application using iden3 identity system once the user
requests login.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="developers/../source/_static/img/centralized_login_protocol.png"><img alt="alternate text" src="developers/../source/_static/img/centralized_login_protocol.png" /></a>
</div>
<p>Iden3 provides the SDK to care of requesting and verifying iden3’s user identity so that the user is authenticated.</p>
</div>
<div class="section" id="platforms-supported">
<h2><a class="toc-backref" href="#id3">Platforms supported</a><a class="headerlink" href="#platforms-supported" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><strong>JavaScript</strong>:</th><td class="field-body"><a class="reference external" href="https://github.com/iden3/iden3js">https://github.com/iden3/iden3js</a></td>
</tr>
<tr class="field-even field"><th class="field-name"><strong>Go</strong>:</th><td class="field-body"><a class="reference external" href="https://github.com/iden3/go-iden3">https://github.com/iden3/go-iden3</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pre-requirements">
<h2><a class="toc-backref" href="#id4">Pre-requirements</a><a class="headerlink" href="#pre-requirements" title="Permalink to this headline">¶</a></h2>
<p>For the centralized login to work it is assumed that iden3 wallet service has been deployed and the end user that is
attempting to login has at last one valid identity.</p>
</div>
<div class="section" id="integration">
<h2><a class="toc-backref" href="#id5">Integration</a><a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h2>
<p>A JavaScript reference implementation of how a third party can integrate iden3’s solution to login into their application can be found at <a class="reference external" href="https://github.com/iden3/centralized-login-demo">https://github.com/iden3/centralized-login-demo</a>.
In this example the external service includes a front-end and a back-end server. We will assume this front-end/back-end division during our integration overview.</p>
<div class="section" id="front-end">
<h3><a class="toc-backref" href="#id6">Front-End</a><a class="headerlink" href="#front-end" title="Permalink to this headline">¶</a></h3>
<p>On the front-end side you will typically need to embed a button to start the login process and a place to display a QR code that the user can scan to complete the authentication.
After the button is pressed, the front-end makes a request to the back-end to start the identity authentication and waits for the response containing the QR code to be displayed and scanned by the user.</p>
<p>In the provided reference implementation this is achieved by JavaScript function <em>getLoginData()</em> found in frontend/index.js. This code shows how to :</p>
<ul class="simple">
<li>Send a request for a new <em>requestIdenAssert</em> packet to the centralized application back-end</li>
<li>Open a websocket between front-end and back-end</li>
<li>Display QR code containing tje <em>requestIdenAssert</em> packet to be signed by iden3’s wallet</li>
</ul>
</div>
<div class="section" id="back-end">
<h3><a class="toc-backref" href="#id7">Back-End</a><a class="headerlink" href="#back-end" title="Permalink to this headline">¶</a></h3>
<div class="section" id="generating-requests-of-identity-assertion">
<h4>Generating requests of identity assertion<a class="headerlink" href="#generating-requests-of-identity-assertion" title="Permalink to this headline">¶</a></h4>
<p>On the back-end side you will need to prepare a new API endpoint to handle the <em>requestIdenAssert</em> petitions from the front-end. In the reference implementation we use <em>GET/login</em>
by calling</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">signatureRequest</span> <span class="o">=</span> <span class="nx">iden3</span><span class="p">.</span><span class="nx">protocols</span><span class="p">.</span><span class="nx">login</span><span class="p">.</span><span class="nx">newRequestIdenAssert</span><span class="p">(</span><span class="nx">nonceDB</span><span class="p">,</span> <span class="nx">origin</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">);</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><strong>nonceDB:</strong> is a NonceDB object generated by calling an API function and stored in a RAM database</li>
<li><strong>origin:</strong> domain of the emitter of the request, for example <em>‘myweb.com’</em></li>
<li><strong>timeout:</strong> timeout in seconds, for example 2 minutes (<em>120</em>).</li>
</ul>
<p>nonceDB is obtained by calling the following function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">nonceDB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">iden3</span><span class="p">.</span><span class="nx">protocols</span><span class="p">.</span><span class="nx">NonceDB</span><span class="p">();</span>
</pre></div>
</div>
<p>Once you have the <em>signatureRequest</em> object, you can return it back to the front-end so that it can be displayed.</p>
</div>
<div class="section" id="verifying-signedpacket">
<h4>Verifying signedPacket<a class="headerlink" href="#verifying-signedpacket" title="Permalink to this headline">¶</a></h4>
<p>On the back-end you will also need to prepare a new API endpoint to handle the responses from iden3 wallet containing the <em>signedPacket</em>.
In the reference implementation we use <em>POST /login</em> to allow the walled to send the signed data.</p>
<p>To perform the verification in the newly added endpoint you just need to call <em>iden3js</em> library.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">verified</span> <span class="o">=</span> <span class="nx">iden3</span><span class="p">.</span><span class="nx">protocols</span><span class="p">.</span><span class="nx">login</span><span class="p">.</span><span class="nx">verifySignedPacket</span><span class="p">(</span><span class="nx">nonceDB</span><span class="p">,</span> <span class="nx">origin</span><span class="p">,</span> <span class="nx">signedPacket</span><span class="p">);</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><strong>nonceDB:</strong> is the NonceDB object generated earlier.</li>
<li><strong>origin:</strong> domain of the emitter of the request, for example <em>‘myweb.com’</em></li>
<li><strong>signedPacket:</strong> signed packet sent by iden3’s wallet.</li>
<li><strong>verified:</strong> is a boolean that indicates whether or not the  authentication is sucessful</li>
</ul>
</div>
</div>
</div>
<div class="section" id="sdk-installation">
<h2><a class="toc-backref" href="#id8">SDK installation</a><a class="headerlink" href="#sdk-installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iden3js">
<h3><a class="toc-backref" href="#id9">iden3js</a><a class="headerlink" href="#iden3js" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Installation</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm install --save @iden3/iden3
</pre></div>
</div>
<ul class="simple">
<li>Import</li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">iden3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;iden3&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, iden3
      <span class="lastupdated">
        Last updated on True.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>